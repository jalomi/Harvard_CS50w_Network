<div class="posts">
    {% for post in page_obj.object_list %}
    <li data-postid="{{ post.id }}">
        <div class="post-username">
            <a href="{% url "user" post.poster %}"><b>{{ post.poster }}</b></a>
        </div>
        <div class="post-content">
            {{ post.content }}
        </div>
        <div class="post-timestamp">
            {{ post.timestamp|date:"d M Y, G:i:s" }}
        </div>
        <div class="post-likes">
            Likes: {{ post.like_count }}
        </div>
        {% if user.is_authenticated %}
            {% if user == post.poster %}
            <button id="edit-button">Edit</button>
            {% endif %}
        {% endif %}
    </li>
    {% endfor %}
</div>
<nav aria-label="pagenav">
    <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
            </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true">Previous</a>
        </li>
        {% endif %}

        {% for page_num in page_obj.paginator.page_range %}
            {% if page_num == page_obj.number %}
                <li class="page-item active" aria-current="page">
                    <a class="page-link">{{page_num}}</a>
                </li>
            {% else %}
            <li class="page-item">
                <a class="page-link" href="?page={{page_num}}">{{page_num}}</a>
            </li>
            {% endif %}
        
        {% endfor %}


        {% if page_obj.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
            </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true">Next</a>
        </li>
        {% endif %}
    </ul>
</nav>

{% load static %}
{% block script %}
    <script>
        var CSRF_TOKEN = '{{ csrf_token }}';
    </script>
    <script src="{% static 'network/edit.js' %}"></script>
{% endblock %}